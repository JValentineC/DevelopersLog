<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pok√©API Demo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f8ff;
        }
        .pokemon-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .pokemon-image {
            max-width: 200px;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin: 10px 0;
        }
        .stat {
            background: #f8f9fa;
            padding: 8px;
            border-radius: 5px;
        }
        .type {
            display: inline-block;
            padding: 4px 8px;
            margin: 2px;
            border-radius: 15px;
            color: white;
            font-size: 12px;
            font-weight: bold;
        }
        .type.electric { background-color: #f4d03f; }
        .type.fire { background-color: #e74c3c; }
        .type.water { background-color: #3498db; }
        .type.grass { background-color: #27ae60; }
        .type.normal { background-color: #95a5a6; }
        .search-container {
            margin: 20px 0;
        }
        input, button {
            padding: 10px;
            margin: 5px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            background-color: #3498db;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: #2980b9;
        }
        .loading {
            text-align: center;
            color: #666;
        }
        .error {
            color: #e74c3c;
            background-color: #fadbd8;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <h1>üî¥ Pok√©API Demo</h1>
    <p>This demo shows how to fetch and display Pok√©mon data from the Pok√©API.</p>
    
    <div class="search-container">
        <input type="text" id="pokemonInput" placeholder="Enter Pok√©mon name or ID (e.g., pikachu, 25)" value="pikachu">
        <button onclick="searchPokemon()">Search Pok√©mon</button>
        <button onclick="loadPikachuFromFile()">Load Pikachu from File</button>
    </div>
    
    <div id="result"></div>

    <script>
        // Pok√©API utility class
        class PokeAPI {
            static BASE_URL = "https://pokeapi.co/api/v2/";
            
            static async getPokemon(nameOrId) {
                try {
                    const response = await fetch(`${this.BASE_URL}pokemon/${nameOrId}`);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return await response.json();
                } catch (error) {
                    console.error("Error fetching Pokemon data:", error);
                    throw error;
                }
            }
            
            static extractPokemonInfo(pokemonData) {
                return {
                    id: pokemonData.id,
                    name: pokemonData.name,
                    height: pokemonData.height,
                    weight: pokemonData.weight,
                    baseExperience: pokemonData.base_experience,
                    types: pokemonData.types.map(type => type.type.name),
                    abilities: pokemonData.abilities.map(ability => ({
                        name: ability.ability.name,
                        isHidden: ability.is_hidden
                    })),
                    stats: pokemonData.stats.map(stat => ({
                        name: stat.stat.name,
                        baseStat: stat.base_stat
                    })),
                    sprite: pokemonData.sprites.front_default,
                    officialArtwork: pokemonData.sprites.other?.['official-artwork']?.front_default || pokemonData.sprites.front_default
                };
            }
        }

        function displayPokemon(pokemonInfo) {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = `
                <div class="pokemon-card">
                    <h2>${pokemonInfo.name.charAt(0).toUpperCase() + pokemonInfo.name.slice(1)} (#${pokemonInfo.id})</h2>
                    <img src="${pokemonInfo.officialArtwork}" alt="${pokemonInfo.name}" class="pokemon-image">
                    
                    <p><strong>Types:</strong> 
                        ${pokemonInfo.types.map(type => `<span class="type ${type}">${type}</span>`).join('')}
                    </p>
                    
                    <p><strong>Height:</strong> ${pokemonInfo.height / 10} m</p>
                    <p><strong>Weight:</strong> ${pokemonInfo.weight / 10} kg</p>
                    <p><strong>Base Experience:</strong> ${pokemonInfo.baseExperience}</p>
                    
                    <h3>Abilities:</h3>
                    <ul>
                        ${pokemonInfo.abilities.map(ability => 
                            `<li>${ability.name}${ability.isHidden ? ' (Hidden)' : ''}</li>`
                        ).join('')}
                    </ul>
                    
                    <h3>Base Stats:</h3>
                    <div class="stats">
                        ${pokemonInfo.stats.map(stat => 
                            `<div class="stat">
                                <strong>${stat.name}:</strong> ${stat.baseStat}
                            </div>`
                        ).join('')}
                    </div>
                </div>
            `;
        }

        async function searchPokemon() {
            const input = document.getElementById('pokemonInput');
            const pokemonName = input.value.trim().toLowerCase();
            
            if (!pokemonName) {
                alert('Please enter a Pok√©mon name or ID');
                return;
            }
            
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="loading">üîÑ Loading Pok√©mon data...</div>';
            
            try {
                const pokemonData = await PokeAPI.getPokemon(pokemonName);
                const pokemonInfo = PokeAPI.extractPokemonInfo(pokemonData);
                displayPokemon(pokemonInfo);
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">‚ùå Error: Could not find Pok√©mon "${pokemonName}". Please check the name and try again.</div>`;
            }
        }

        async function loadPikachuFromFile() {
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = '<div class="loading">üîÑ Loading Pikachu from local file...</div>';
            
            try {
                const response = await fetch('Pikachu.json');
                const pikachuData = await response.json();
                const pokemonInfo = PokeAPI.extractPokemonInfo(pikachuData);
                displayPokemon(pokemonInfo);
            } catch (error) {
                resultDiv.innerHTML = `<div class="error">‚ùå Error: Could not load Pikachu.json file. Make sure it exists in the same directory.</div>`;
            }
        }

        // Load Pikachu by default when page loads
        window.addEventListener('load', () => {
            searchPokemon();
        });

        // Allow searching with Enter key
        document.getElementById('pokemonInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPokemon();
            }
        });
    </script>
</body>
</html>